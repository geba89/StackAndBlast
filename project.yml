name: StackAndBlast
options:
  bundleIdPrefix: com.piotrgebski
  deploymentTarget:
    iOS: "17.0"
  xcodeVersion: "16.0"
  generateEmptyDirectories: true

fileGroups:
  - Configuration.storekit

packages:
  GoogleMobileAds:
    url: https://github.com/googleads/swift-package-manager-google-mobile-ads
    from: "11.2.0"
  firebase-ios-sdk:
    url: https://github.com/firebase/firebase-ios-sdk
    from: "11.0.0"

settings:
  base:
    SWIFT_VERSION: "5.9"
    TARGETED_DEVICE_FAMILY: "1,2"  # iPhone and iPad

targets:
  StackAndBlast:
    type: application
    platform: iOS
    sources:
      - path: StackAndBlast
        excludes:
          - "**/.DS_Store"
    settings:
      base:
        PRODUCT_BUNDLE_IDENTIFIER: com.piotrgebski.StackAndBlast
        PRODUCT_NAME: "Stack & Blast"
        MARKETING_VERSION: "1.0.0"
        CURRENT_PROJECT_VERSION: "1"
        ASSETCATALOG_COMPILER_APPICON_NAME: AppIcon
        ASSETCATALOG_COMPILER_GLOBAL_ACCENT_COLOR_NAME: AccentColor
        SWIFT_EMIT_LOC_STRINGS: true
      configs:
        Debug:
          SWIFT_ACTIVE_COMPILATION_CONDITIONS: DEBUG
        Release:
          SWIFT_COMPILATION_MODE: wholemodule
    info:
      path: StackAndBlast/Info.plist
      properties:
        CFBundleDisplayName: "Stack & Blast"
        UIApplicationSceneManifest:
          UIApplicationSupportsMultipleScenes: false
        UIApplicationSupportsIndirectInputEvents: true
        UILaunchScreen: {}
        UIRequiresFullScreen: true
        UISupportedInterfaceOrientations:
          - UIInterfaceOrientationPortrait
        UISupportedInterfaceOrientations~ipad:
          - UIInterfaceOrientationPortrait
          - UIInterfaceOrientationPortraitUpsideDown
        UIStatusBarStyle: UIStatusBarStyleLightContent
        NSUserTrackingUsageDescription: "This allows us to show you relevant ads and support free gameplay."
        # Google AdMob application ID
        GADApplicationIdentifier: "ca-app-pub-2741592186352961~7671478866"
    dependencies:
      - sdk: AppTrackingTransparency.framework
      - sdk: SpriteKit.framework
      - sdk: GameKit.framework
      - sdk: StoreKit.framework
      - sdk: AVFoundation.framework
      - sdk: CoreHaptics.framework
      - package: GoogleMobileAds
        product: GoogleMobileAds
      - package: firebase-ios-sdk
        product: FirebaseAnalytics

schemes:
  StackAndBlast:
    build:
      targets:
        StackAndBlast: all
    run:
      config: Debug
      storeKitConfiguration: Configuration.storekit

